addons:
  gitlab:
    # -- Toggle deployment of Gitlab
    enabled: false
    hostnames:
      # host name only without the domain
      gitlab: gitlab
      registry: registry
    git:
      repo: "https://github.com/VivSoftOrg/gitlab.git"
      path: "./chart"
      tag: "6.6.1-bb.1"
    # -- Flux reconciliation overrides specifically for the Gitlab Package
    flux: {}
    # -- Redirect the package ingress to a specific Istio Gateway (listed in `istio.gateways`).  The default is "public".
    ingress:
      gateway: ""
    sso:
      # -- Toggle OIDC SSO for Gitlab on and off.
      # Enabling this option will auto-create any required secrets.
      enabled: false
      # -- Gitlab OIDC client ID
      client_id: ""
      # -- Gitlab OIDC client secret
      client_secret: ""
      # -- Gitlab SSO login button label
      label: ""
      # -- Gitlab SSO Scopes, default is ["Gitlab"]
      scopes:
        - Gitlab
      # -- GitLab SSO Issuer URI,
      # Only needed if your SSO is non-Keycloak
      issuer_uri: ""
      # -- GitLab SSO End Session URI,
      # Only needed if your SSO is non-Keycloak
      end_session_uri: ""
      # -- Gitlab SSO UID field
      uid_field: preferred_username
    database:
      # -- Hostname of a pre-existing PostgreSQL database to use for Gitlab.
      # Entering connection info will disable the deployment of an internal database and will auto-create any required secrets.
      host: ""
      # -- Port of a pre-existing PostgreSQL database to use for Gitlab.
      port: 5432
      # -- Database name to connect to on host.
      database: "" # example: gitlab
      # -- Username to connect as to external database, the user must have all privileges on the database.
      username: ""
      # -- Database password for the username used to connect to the existing database.
      password: ""
    objectStorage:
      # -- Type of object storage to use for Gitlab, setting to s3 will assume an external, pre-existing object storage is to be used.
      # Entering connection info will enable this option and will auto-create any required secrets
      type: "" # supported types are "s3" or "minio"
      # -- S3 compatible endpoint to use for connection information.
      # examples: "https://s3.amazonaws.com" "https://s3.us-gov-west-1.amazonaws.com" "http://minio.minio.svc.cluster.local:9000"
      endpoint: ""
      # -- S3 compatible region to use for connection information.
      region: ""
      # -- Access key for connecting to object storage endpoint.
      # -- If using accessKey and accessSecret, the iamProfile must be left as an empty string: ""
      accessKey: ""
      # -- Secret key for connecting to object storage endpoint.
      # Unencoded string data. This should be placed in the secret values and then encrypted
      accessSecret: ""
      # -- Bucket prefix to use for identifying buckets.
      # Example: "prod" will produce "prod-gitlab-bucket"
      bucketPrefix: ""
      # -- NOTE: Current bug with AWS IAM Profiles and Object Storage where only artifacts are stored. Fixed in Gitlab 14.5
      # -- Name of AWS IAM profile to use.
      # -- If using an AWS IAM profile, the accessKey and accessSecret values must be left as empty strings eg: ""
      iamProfile: ""
    smtp:
      # -- Passwords should be placed in an encrypted file. Example: environment-bb-secret.enc.yaml
      # If a value is provided BigBang will create a k8s secret named gitlab-smtp-password in the gitlab namespace
      password: ""
    redis:
      # -- Redis plain text password to connect to the redis server.  If empty (""), the gitlab charts will create the gitlab-redis-secret
      # with a random password.
      # -- This needs to be set to a non-empty value in order for the Grafana Redis Datasource and Dashboards to be installed.
      password: ""
    # -- Values to passthrough to the gitlab chart: https://github.com/VivSoftOrg/gitlab.git
    values:
      global:
        certificates:
          image:
            repository: registry.gitlab.com/enbuild-staging/container_registry/gitlab-gitlab/alpine-certificates
        kubectl:
          image:
            repository: registry.gitlab.com/enbuild-staging/container_registry/gitlab-gitlab/kubectl
        busybox:
          image:
            repository: registry.gitlab.com/enbuild-staging/container_registry/redhat-ubi/ubi8
      upgradeCheck:
        image:
          repository: registry.gitlab.com/enbuild-staging/container_registry/redhat-ubi/ubi8
      redis:
        metrics:
          image:
            registry: registry.gitlab.com/enbuild-staging/container_registry/bitnami
        image:
          registry: registry.gitlab.com/enbuild-staging/container_registry/bitnami
      postgresql:
        image:
          registry: registry.gitlab.com
          repository: enbuild-staging/container_registry/opensource-postgres/postgresql12
      registry:
        image:
          repository: registry.gitlab.com/enbuild-staging/container_registry/gitlab-gitlab/gitlab-container-registry
      shared-secrets:
        selfsign:
          image:
            repository: registry.gitlab.com/enbuild-staging/container_registry/gitlab-gitlab/cfssl-self-sign
      gitlab:
        toolbox:
          image:
            repository: registry.gitlab.com/enbuild-staging/container_registry/gitlab-gitlab/gitlab-toolbox
        gitlab-exporter:
          image:
            repository: registry.gitlab.com/enbuild-staging/container_registry/gitlab-gitlab/gitlab-exporter
        migrations:
          image:
            repository: registry.gitlab.com/enbuild-staging/container_registry/gitlab-gitlab/gitlab-toolbox
        webservice:
          image:
            repository: registry.gitlab.com/enbuild-staging/container_registry/gitlab-gitlab/gitlab-webservice
          workhorse:
            image: registry.gitlab.com/enbuild-staging/container_registry/gitlab-gitlab/gitlab-workhorse
        sidekiq:
          image:
            repository: registry.gitlab.com/enbuild-staging/container_registry/gitlab-gitlab/gitlab-sidekiq
        gitaly:
          image:
            repository: registry.gitlab.com/enbuild-staging/container_registry/gitlab-gitlab/gitaly
        gitlab-shell:
          image:
            repository: registry.gitlab.com/enbuild-staging/container_registry/gitlab-gitlab/gitlab-shell
        mailroom:
          image:
            repository: registry.gitlab.com/enbuild-staging/container_registry/gitlab-gitlab/gitlab-mailroom
        praefect:
          image:
            repository: registry.gitlab.com/enbuild-staging/container_registry/gitlab-gitlab/gitaly
      minio:
        image: registry.gitlab.com/enbuild-staging/container_registry/opensource-minio/minio
        minioMc:
          image: registry.gitlab.com/enbuild-staging/container_registry/opensource-minio/mc
    # -- Post Renderers.  See docs/postrenders.md
    postRenderers: []
